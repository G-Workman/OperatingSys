Logging is "a record of performance, events, or day-to-day activities". 
A log is a collection of data that defines the time an event occurred on a computer.
	In most Linux systems, logging is controlled by syslog or journald
		Syslog is a Standard System Logging Protocol defined by RFC 5424
		Journald, on the other hand, is unique to systemd distributions of Linux.

PROS
Remote Logging
	Main system crashes
	Becomes compromised
Historical analysis
	Record of anomalous activity
	Diagnostics of a failure
	
CONS
Logs can cryptic
Logging is not free
Logging too much/little
Not analyzing logs
Not looking at the right logs
Time Normalization
Confirmation of critical systems usage

Authentication
	/var/log/auth.log - Authentication related events
	/var/run/utmp - Users currently logged in
	/var/log/wtmp - History file for utmp
	/var/log/btmp - Failed login attempts
	last -f /var/run/utmp
	last -f /var/log/auth.log|wtmp|btmp		# sudo for btmp
	
Systemd only creates the session after pam approves it
The session exists between the systemd creation and deletion

Application
	apache - Web Server (dir)
	apt - Package Manager (dir)
	/var/log/mysql.log

System
	/var/log/messages - Legacy Catch all
	/var/log/syslog - Ubuntu/Debian Catch all
	dmesg = Device Messenger (queires /proc/kmsg)
		Kernel Ring Buffer - Never fills
		First logs generated by the system
		
LOGGING AT A GLANCE (SYSV)
	Location : /var/log
	Config File : /etc/rsyslog.conf
	Service : /usr/sbin/rsyslogd
	
/usr/sbin/rsyslogd
		User space daemon - Reads messages written to /dev/log and formats and stores them based on /etc/rsyslog.conf rules.
			syslog() via libc
			kernel ring buffer
			audit records via audit subsystem (auditd)
			
/etc/rsyslog.conf
	Log entries follow syslog standard facility.severity
		facility = what program, or part of system, log is from
		severity = urgency
		@  = udp
		@@ = tcp
		
log rotation
	aids in parsing log files
	configured to interval the content in logs
	
Best Practices
	Meaningful Naming Schema
	Separate logs logically and by precedence
	Sync time across network
	Control log access
Utilize cron jobs / scripts
	logrotate
		/etc/logrotate.conf
		How large to let files get. How long to keep them.
		
tail -f - Continuously show end of file
less /var/log/syslog - View Log in page viewer
logger - Send a user generated message to system Log i.e. Starting Update
> /var/log/messages - Wipes Logs
	Why do this as opposed to deleting/recreating files?
last -f /var/log{wtmp,btmp} - Needed to view data files

AUDITING VS LOGGING
	Logging is system/application defined
	Auditing is user defined
	[kauditd] - runs at the kernel level and can monitor individual syscalls (/sbin/auditd)
	auditctl - control/config command
	aureport - summary reports of audit logs
	ausearch - query audit logs
	
journalctl -e

journalctl --list-boots
	boots on the system
	
journalctl -b <boot number>
	obtains logs of the boot number

journalctl -u ssh.service
	obtains logs of unit ssh.service

jqplay.org
